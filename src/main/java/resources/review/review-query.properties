logoutMainHotListSelect=SELECT R.RWNO, TC.RWCOUNT AS TODAYRWCOUNT, P.FILENAME, RL.LIKECOUNT, M.NICK, M.USERID, R.CATEGORYTYPE, R.RWCONTENT, R.RWTITLE, R.MODIFYYN, R.WRITEDATE, R.COORlINK, R.RWCONTENTTYPE, R.RWCOUNT, R.RWHASH, R.RWCOMMENT, R.RWTYPE, R.RWSUPPORT FROM REVIEW R JOIN PLUSFILE P ON(R.RWNO = P.REVIEWNO) JOIN MEMBER M ON(R.USERNO = M.USERNO) JOIN TODAYCOUNT TC ON(TC.RWNO = R.RWNO) JOIN (SELECT COUNT(USERNO) AS LIKECOUNT, RWNO FROM RWLIKE GROUP BY RWNO HAVING RWNO IN((SELECT RWNO FROM (SELECT ROWNUM, RWNO FROM TODAYCOUNT WHERE TODAYDATE = TO_CHAR(SYSDATE, 'YYYY-MM-DD') ORDER BY RWCOUNT DESC) WHERE ROWNUM BETWEEN 1 AND 4))) RL ON(RL.RWNO = R.RWNO) WHERE P.TABLETYPE = 2 AND P.FILESEQNO = 0 ORDER BY LIKECOUNT DESC
loadOneForm=SELECT R.RWCONTENT, P.FILENAME, LIKEME, R.RWTITLE, TO_CHAR(R.WRITEDATE, 'YYYY-MM-DD') AS RWWRITEDATE, R.COORLINK, R.RWCOMMENT, R.RWHASH, R.RWGRADE, R.RWCONTENTTYPE, R.RWTYPE, R.RWNO, M.NICK, RWLIKECOUNT, RWCOUNT FROM (SELECT COUNT(USERNO) AS RWLIKECOUNT FROM RWLIKE WHERE RWNO = ?), (SELECT COUNT(USERNO) AS RWCOMMENTCOUNT FROM RWCOMMENT WHERE RWNO = ?), (SELECT COUNT(USERNO) AS LIKEME FROM RWLIKE WHERE RWNO = ? AND USERNO = ?), REVIEW R JOIN MEMBER M ON(R.USERNO = M.USERNO) JOIN PLUSFILE P ON(P.USERNO = M.USERNO) WHERE RWNO = ?
loadOneFormCardImg=SELECT FILECODE, REVIEWNO, FILENAME, TABLETYPE, FILESEQNO FROM PLUSFILE WHERE REVIEWNO = ? AND FILESEQNO NOT IN(0) ORDER BY FILESEQNO ASC
loadOneFormComment=SELECT P.FILENAME, RW.RWNO, RW.COMMENTNO, RW.COMMENTCONTENT, RW.PARENTCOMMENTNO, TO_CHAR(RW.RWDATE, 'YYYY-MM-DD HH:MM:SS') AS RWDATE, RW.USERNO, M.NICK FROM RWCOMMENT RW JOIN MEMBER M ON(RW.USERNO = M.USERNO) JOIN PLUSFILE P ON(M.USERNO = P.USERNO) WHERE RW.RWNO = ? AND P.TABLETYPE = 0 ORDER BY DECODE(PARENTCOMMENTNO, 0, COMMENTNO, PARENTCOMMENTNO) ASC, PARENTCOMMENTNO ASC
addLikeReview=INSERT INTO RWLIKE(USERNO, RWNO) VALUES(?, ?)
selectInterestReview=SELECT NVL(RWLIKE.LIKECOUNT, 0) AS LIKECOUNT , P.FILENAME, R.RWNO, R.USERNO, M.USERID, R.CATEGORYTYPE, R.RWCONTENT, R.RWTITLE, R.MODIFYYN, R.MODIFYDATE, R.WRITEDATE, R.COORLINK, R.RWCONTENTTYPE, R.RWCOUNT, R.RWHASH, R.RWCOMMENT, R.RWTYPE, R.COORCODE, R.RWSUPPORT, M.NICK FROM REVIEW R JOIN PLUSFILE P ON(R.RWNO = P.REVIEWNO(+)) JOIN MEMBER M ON(R.USERNO = M.USERNO) LEFT JOIN (SELECT COUNT(USERNO) AS LIKECOUNT, RWNO FROM RWLIKE GROUP BY RWNO) RWLIKE ON(RWLIKE.RWNO = R.RWNO) WHERE R.CATEGORYTYPE IN(SELECT C.CATEGORYCODE FROM CATEGORY C JOIN INTERESTCATEGORY IC ON(IC.CATEGORYCODE = C.CATEGORYCODE) WHERE IC.USERNO IN(SELECT USERNO FROM MEMBER WHERE USERNO = ?)) AND P.TABLETYPE = 2 AND P.FILESEQNO = 0 ORDER BY WRITEDATE DESC
searchHash=SELECT NVL(RL.LIKECOUNT, 0) AS LIKECOUNT, P.FILENAME, R.RWNO, R.USERNO, R.CATEGORYTYPE, R.RWCONTENT, R.RWTITLE, R.MODIFYYN, R.MODIFYDATE, R.WRITEDATE, R.COORLINK, R.RWCONTENTTYPE, R.RWCOUNT, R.RWHASH, R.RWCOMMENT, R.RWTYPE, R.COORCODE, R.RWSUPPORT, M.NICK, M.USERID FROM REVIEW R JOIN PLUSFILE P ON(R.RWNO = P.REVIEWNO) JOIN MEMBER M ON(R.USERNO = M.USERNO) LEFT JOIN (SELECT COUNT(USERNO) AS LIKECOUNT, RWNO FROM RWLIKE GROUP BY RWNO) RL ON(R.RWNO = RL.RWNO) JOIN HASHTAG H ON(R.RWNO = H.RWNO) WHERE H.HASHCODE = ? AND P.TABLETYPE = 2 AND P.FILESEQNO = 0 ORDER BY WRITEDATE DESC
insertWrite1Review=INSERT INTO REVIEW(RWNO,USERNO,CATEGORYTYPE,RWCONTENT,RWTITLE,MODIFYYN,MODIFYDATE,WRITEDATE,COORLINK,RWCONTENTTYPE,RWGRADE,RWCOUNT,RWHASH,RWCOMMENT,RWTYPE,COORCODE,RWSUPPORT) VALUES (SEQ_REVIEW_RWNO.NEXTVAL,?,?,?,?,'N',NULL,SYSDATE,NULL,1,?,0,?,?,0,0,?)
insertWrite2Review=INSERT INTO REVIEW(RWNO,USERNO,CATEGORYTYPE,RWCONTENT,RWTITLE,MODIFYYN,MODIFYDATE,WRITEDATE,COORLINK,RWCONTENTTYPE,RWGRADE,RWCOUNT,RWHASH,RWCOMMENT,RWTYPE,COORCODE,RWSUPPORT) VALUES (SEQ_REVIEW_RWNO.NEXTVAL,?,?,?,?,'N',NULL,SYSDATE,NULL,0,?,0,?,?,0,0,?)
insertWrite3Review=INSERT INTO REVIEW(RWNO,USERNO,CATEGORYTYPE,RWCONTENT,RWTITLE,MODIFYYN,MODIFYDATE,WRITEDATE,COORLINK,RWCONTENTTYPE,RWGRADE,RWCOUNT,RWHASH,RWCOMMENT,RWTYPE,COORCODE,RWSUPPORT) VALUES (SEQ_REVIEW_RWNO.NEXTVAL,?,?,?,?,'N',NULL,SYSDATE,NULL,2,?,0,?,?,0,0,?)
userHomeReviewSelect=SELECT RL.LIKECOUNT, R.RWNO, R.USERNO, R.CATEGORYTYPE, R.RWCONTENT, R.RWTITLE, R.MODIFYYN, R.MODIFYDATE, R.WRITEDATE, R.COORLINK, R.RWCONTENTTYPE, R.RWCOUNT, R.RWHASH, R.RWCOMMENT, R.RWTYPE, R.COORCODE, R.RWSUPPORT, M.NICK FROM REVIEW R JOIN MEMBER M ON(R.USERNO = M.USERNO) JOIN (SELECT COUNT(USERNO) AS LIKECOUNT, RWNO FROM RWLIKE GROUP BY RWNO) RL ON(R.RWNO = RL.RWNO) WHERE USERID = ?
addComment=INSERT INTO RWCOMMENT(RWNO, COMMENTNO, COMMENTCONTENT, PARENTCOMMENTNO, RWDATE, USERNO) VALUES(?, (SELECT NVL2(MAX(COMMENTNO), MAX(COMMENTNO), 0) FROM RWCOMMENT WHERE RWNO = ?) + 1, ?, ?, SYSDATE, ?)
insertWriteAttachment=INSERT INTO PLUSFILE(FILECODE,REVIEWNO,FILEORIGINNAME,FILENAME,FILESIZE,FILETYPE,FILEENROLLDATE,TABLETYPE,USERNO,NOTICECODE,FILESEQNO) VALUES (SEQ_PLUSFILE_FILECODE.NEXTVAL, ?, ?, ?, ?,?, SYSDATE, 2, ?, null,?)
reviewNoCheck=SELECT RWNO FROM REVIEW WHERE USERNO = ? AND ROWNUM = 1 ORDER BY RWNO DESC
insertHashtag=INSERT INTO HASHTAG(HASHCODE,RWNO) VALUES (?,?)
selectReview=SELECT * FROM REVIEW WHERE RWNO = ?
selectContent=SELECT RW.RWNO,RW.USERNO,RW.CATEGORYTYPE,RW.RWCONTENT,RW.RWTITLE,RW.RWGRADE,RW.RWHASH,RW.RWCOUNT,RW.RWCOMMENT,RW.RWTYPE,RW.RWSUPPORT,PF.FILENAME,PF.FILEORIGINNAME,TABLETYPE,FILESEQNO FROM REVIEW RW JOIN PLUSFILE PF ON(RW.RWNO = PF.REVIEWNO) WHERE RWNO=?
updateWrite=UPDATE REVIEW SET MODIFYYN='Y', MODIFYDATE=SYSDATE, RWCOMMENT=? WHERE RWNO = ?
deleteWrite=DELETE FROM PLUSFILE WHERE REVIEWNO = ?
updateRwCount=UPDATE REVIEW SET RWCOUNT = RWCOUNT+1 WHERE RWNO = ?
findTodayRwCount=SELECT * FROM TODAYCOUNT WHERE RWNO = ? AND TO_CHAR(TODAYDATE, 'YYYYMMDD') = TO_CHAR(SYSDATE, 'YYYYMMDD')
updateTodayRwCount=UPDATE TODAYCOUNT SET RWCOUNT = RWCOUNT+1 WHERE RWNO=?
insertTodayRwCount=INSERT INTO TODAYCOUNT VALUES (?, 1, SYSDATE)
deleteHashtag=DELETE FROM HASHTAG WHERE RWNO = ?
findSentiment=SELECT * FROM SENTIMENT WHERE SEARCHWORD = ?
insertSentiment=INSERT INTO SENTIMENT (SEARCHWORD, GOOD, SOSO, BAD) VALUES (?, ?, ?, ?)

