UserMemberSelect=SELECT FOLLOWCOUNT, FOLLOWINGCOUNT, FOLLOWTF, FILENAME, REVIEWCOUNT, M.INTRO, M.NICK, M.USERID, M.USERNO, M.USERTYPE FROM (SELECT COUNT(USERNO) AS REVIEWCOUNT FROM REVIEW WHERE USERNO = (SELECT USERNO FROM MEMBER WHERE USERID = ?)), (SELECT COUNT(FOLLOWINGUSERNO) AS FOLLOWINGCOUNT FROM FOLLOW WHERE FOLLOWINGUSERNO = (SELECT USERNO FROM MEMBER WHERE USERID = ?)), (SELECT COUNT(FOLLOWUSERNO) AS FOLLOWCOUNT FROM FOLLOW WHERE FOLLOWUSERNO = (SELECT USERNO FROM MEMBER WHERE USERID = ?)), (SELECT DECODE((SELECT COUNT(FOLLOWUSERNO) FROM FOLLOW WHERE FOLLOWINGUSERNO = (SELECT USERNO FROM MEMBER WHERE USERID = ?) AND FOLLOWUSERNO = (SELECT USERNO FROM MEMBER WHERE USERID = ?)), 1, 0, 1) AS FOLLOWTF FROM DUAL), MEMBER M JOIN PLUSFILE P ON(M.USERNO = P.USERNO) WHERE M.USERID = ? AND P.TABLETYPE = 0
UserReviewSelect=SELECT R.RWCOUNT, R.RWTITLE, R.RWCONTENTTYPE, R.RWTYPE, R.RWNO, M.NICK, M.USERNO, P.FILENAME, NVL(LIKECOUNT, 0) AS LIKECOUNT FROM REVIEW R JOIN PLUSFILE P ON(R.RWNO = P.REVIEWNO(+)) JOIN MEMBER M ON(R.USERNO = M.USERNO) LEFT JOIN (SELECT COUNT(USERNO) AS LIKECOUNT, RWNO FROM RWLIKE WHERE RWNO IN(SELECT RWNO FROM REVIEW WHERE USERNO = (SELECT USERNO FROM MEMBER WHERE USERID = ?)) GROUP BY RWNO) RWLIKE ON(RWLIKE.RWNO = R.RWNO) WHERE M.USERID = ? AND P.TABLETYPE = 2 AND P.FILESEQNO = 0